/* ============================================= */
/* Planly Delivery Notes - Print Styles         */
/* A4 Landscape: 4 notes per page (2 cols x 2 rows) */
/* Each note: 148.5mm x 105mm                    */
/* ============================================= */

/* ===== SCREEN PREVIEW STYLES ===== */
@media screen {
  .delivery-notes-print-area {
    display: flex;
    flex-wrap: wrap;
    gap: 1.5rem;
    justify-content: center;
    padding: 1rem;
  }

  .delivery-note-sheet {
    background: white;
    box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);
    border-radius: 4px;
  }

  /* A4 Landscape preview (scaled for readability) */
  .delivery-note-sheet.sheet-a4-landscape {
    width: 297mm;
    height: 210mm;
    transform: scale(0.5);
    transform-origin: top center;
    margin-bottom: calc(-210mm * 0.5);
  }

  .delivery-note-cell {
    border: 1px dashed #ccc;
  }

  /* Cutting markers container - absolutely positioned overlay */
  .cutting-markers-container {
    position: absolute;
    inset: 0;
    pointer-events: none;
    z-index: 10;
  }

  /* Ensure delivery note content is visible */
  .delivery-note {
    font-size: 8pt;
    overflow: visible;
  }
}

/* ===== PRINT STYLES ===== */
@media print {
  /* Force light theme and exact colors */
  *,
  *::before,
  *::after {
    -webkit-print-color-adjust: exact !important;
    print-color-adjust: exact !important;
  }

  /* Page setup - A4 Landscape */
  @page {
    size: 297mm 210mm landscape;
    margin: 0;
  }

  /* Hide screen-only UI elements - be specific to avoid hiding note content */
  .print\:hidden,
  .no-print,
  nav:not(.delivery-note nav),
  body > header,
  aside,
  body > footer,
  button,
  input,
  select,
  [role="navigation"],
  [role="banner"],
  .tsqd-open-btn-container,
  .tsqd-parent-container,
  [class*="devtools"],
  [class*="Devtools"],
  [class*="ReactQuery"] {
    display: none !important;
    visibility: hidden !important;
  }

  html,
  body {
    width: 297mm !important;
    height: 210mm !important;
    margin: 0 !important;
    padding: 0 !important;
    overflow: visible !important;
    background: white !important;
  }

  body {
    display: block !important;
  }

  main {
    width: 100% !important;
    max-width: 100% !important;
    margin: 0 !important;
    padding: 0 !important;
    display: block !important;
  }

  /* Print area container */
  .delivery-notes-print-area {
    display: block !important;
    padding: 0 !important;
    margin: 0 !important;
    width: 297mm !important;
  }

  /* A4 Landscape Sheet - 297mm x 210mm */
  .delivery-note-sheet {
    width: 297mm !important;
    height: 210mm !important;
    page-break-after: always !important;
    break-after: page !important;
    page-break-inside: avoid !important;
    break-inside: avoid !important;
    position: relative !important;
    background: white !important;
    transform: none !important;
    margin: 0 !important;
    padding: 0 !important;
    box-shadow: none !important;
    border-radius: 0 !important;
    display: grid !important;
    grid-template-columns: repeat(2, 148.5mm) !important;
    grid-template-rows: repeat(2, 105mm) !important;
    box-sizing: border-box !important;
    overflow: hidden !important;
  }

  /* Cutting markers container - absolutely positioned, not part of grid */
  .cutting-markers-container {
    position: absolute !important;
    inset: 0 !important;
    pointer-events: none !important;
    z-index: 10 !important;
    display: block !important;
    width: 297mm !important;
    height: 210mm !important;
  }

  /* Last sheet - no page break */
  .delivery-note-sheet:last-child {
    page-break-after: auto !important;
    break-after: auto !important;
  }

  /* Individual note cell - 148.5mm x 105mm */
  .delivery-note-cell {
    width: 148.5mm !important;
    height: 105mm !important;
    padding: 3mm !important;
    box-sizing: border-box !important;
    border: none !important;
    overflow: hidden !important;
    page-break-inside: avoid !important;
    break-inside: avoid !important;
  }

  /* Cutting markers */
  .cutting-marker {
    position: absolute !important;
    background: #333 !important;
    z-index: 10 !important;
    display: block !important;
  }

  /* Delivery Note styling - 2 column layout */
  .delivery-note {
    width: 100% !important;
    height: 100% !important;
    font-size: 8pt !important;
    background: white !important;
    color: black !important;
    display: flex !important;
    flex-direction: column !important;
    overflow: hidden !important;
    box-sizing: border-box !important;
  }

  /* IMPORTANT: Don't hide the delivery note header */
  .delivery-note-header {
    display: flex !important;
    justify-content: space-between !important;
    align-items: center !important;
    border-bottom: 0.5pt solid #333 !important;
    padding-bottom: 1mm !important;
    margin-bottom: 1mm !important;
    flex-shrink: 0 !important;
  }

  .company-logo {
    max-height: 8mm !important;
    max-width: 18mm !important;
  }

  /* Info column (left side) */
  .info-column {
    width: 35% !important;
    font-size: 7pt !important;
    border-right: 0.5pt solid #ddd !important;
    padding-right: 2mm !important;
  }

  .customer-info {
    flex-shrink: 0 !important;
  }

  .customer-info > div {
    font-size: 7pt !important;
    line-height: 1.3 !important;
  }

  /* Products column (right side) */
  .products-column {
    width: 65% !important;
  }

  /* Products table */
  .products-table {
    flex: 1 !important;
    overflow: hidden !important;
  }

  .products-table table {
    width: 100% !important;
    border-collapse: collapse !important;
    font-size: 7pt !important;
  }

  .products-table th,
  .products-table td {
    padding: 0.5mm 1mm !important;
    text-align: left !important;
    border-bottom: 0.3pt solid #eee !important;
    line-height: 1.2 !important;
  }

  .products-table th {
    font-weight: 600 !important;
    border-bottom: 0.5pt solid #333 !important;
    font-size: 7pt !important;
  }

  /* Category headers - don't hide these! */
  .category-header td {
    background: #f0f0f0 !important;
    font-weight: bold !important;
    font-size: 6pt !important;
    padding: 0.5mm 1mm !important;
    border-top: 0.3pt solid #ccc !important;
  }

  /* Quantity cells */
  .quantity-cell {
    width: 10mm !important;
    text-align: center !important;
    border: 0.3pt solid #ccc !important;
    background: white !important;
  }

  /* Footer */
  .note-footer {
    text-align: center !important;
    font-size: 5pt !important;
    color: #666 !important;
    padding-top: 1mm !important;
    border-top: 0.3pt solid #ccc !important;
    flex-shrink: 0 !important;
    margin-top: auto !important;
  }

  /* Teal accent for category bullets */
  .text-teal-600 {
    color: #0d9488 !important;
  }
}
