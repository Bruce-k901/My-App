{
  "permissions": {
    "allow": [
      "Bash(npx tsc:*)",
      "Bash(npm run build:*)",
      "Bash(ls:*)",
      "Bash(.ts)",
      "Bash(.sql \")",
      "Bash(for pattern in \"border-neutral-800\" \"text-neutral-400\" \"text-neutral-500\" \"bg-neutral-900\" \"text-white\")",
      "Bash(do echo \"=== $pattern ===\")",
      "Bash(done)",
      "Bash(git add:*)",
      "Bash(git commit -m \"$\\(cat <<''EOF''\nfeat: Add Archive Center page with light/dark theme and compliance task modals\n\n- Add Archive Center page \\(/dashboard/archive\\) with full light/dark theme support\n- Add specialized task completion modals for compliance workflows:\n  - CertificateTaskModal: Handle certificate expiry/renewal tasks\n  - DocumentReviewModal: Handle document expiry tasks with upload\n  - SOPReviewModal: Handle SOP review tasks\n  - RAReviewModal: Handle Risk Assessment review tasks\n  - CalloutTaskModal: Handle callout follow-up tasks with status updates\n  - PPMFollowupModal: Handle PPM follow-up after callout placed\n- Update TaskCompletionModal to route to appropriate modal based on task type\n- Update CalloutModal to set asset ppm_status to ''service_booked'' for PPM callouts\n- Update generate-daily-tasks to skip assets with ppm_status=''service_booked''\n- Add Archive Center link to burger menu navigation\n\nCo-Authored-By: Claude Opus 4.5 <noreply@anthropic.com>\nEOF\n\\)\")",
      "Bash(git push)",
      "Bash(git commit -m \"$\\(cat <<''EOF''\nAdd missing task completion component files\n\nThese files were missing from the previous commit and are required\nfor the TaskCompletionModal import.\n\nCo-Authored-By: Claude Opus 4.5 <noreply@anthropic.com>\nEOF\n\\)\")",
      "Bash(git commit:*)",
      "Bash(supabase db push:*)",
      "Bash(supabase migration repair:*)",
      "Bash(supabase db execute:*)",
      "Bash(supabase migration:*)",
      "Bash(supabase db url:*)",
      "Bash(supabase --help:*)",
      "Bash(supabase inspect db --help:*)",
      "Bash(supabase projects:*)",
      "Bash(curl:*)",
      "Bash(gh pr create --title \"Fix ingredients dropdown, temperature logging, and add data integrity system\" --body \"$\\(cat <<''EOF''\n## Summary\n\n- **Ingredients dropdown**: Fixed dropdown positioning for fixed positioning mode\n- **Temperature logging**: Fixed capture, display, and error handling for temperature monitoring tasks\n- **Archive Center**: Added new page with full light/dark theme support\n- **Recipe data integrity**: Added comprehensive database integrity monitoring system with validation, audit snapshots, and optimistic locking\n- **Compliance gaps**: Added compliance gap detection and automatic PPM service task generation\n- **UI fixes**: Fixed styling and data visibility across leave balances, rota, availability, and compliance matrix pages\n\n## Key Changes\n\n### Database Migrations\n- `20260130000000_recipe_data_integrity.sql` - Data integrity system with version tracking and audit snapshots\n- `20260130000001_fix_integrity_check_function.sql` - PostgreSQL compatibility fix\n- `20260130000002_fix_integrity_check_schema.sql` - Schema column name corrections\n\n### New Features\n- Recipe data integrity health check API \\(`/api/health/data-integrity`\\)\n- Client-side recipe validation \\(`src/lib/validation/recipeValidation.ts`\\)\n- Archive Center page with theme support\n\n### Bug Fixes\n- Fixed ingredient dropdown position calculation\n- Fixed temperature range validation for freezers\n- Fixed asset nickname extraction from nested fields\n- Fixed pack_size type casting in price history trigger\n\n## Test plan\n- [ ] Verify ingredients dropdown positions correctly in recipe editor\n- [ ] Test temperature logging saves and displays correctly\n- [ ] Verify Archive Center page renders in both light and dark themes\n- [ ] Run `SELECT * FROM check_recipe_data_integrity\\(company_id\\)` to verify integrity checks\n- [ ] Test `/api/health/data-integrity` endpoint returns valid response\n\nðŸ¤– Generated with [Claude Code]\\(https://claude.com/claude-code\\)\nEOF\n\\)\")",
      "Bash(git remote get-url:*)",
      "Bash(winget install:*)",
      "Bash(export PATH=\"$PATH:/c/Program Files/GitHub CLI\")",
      "Bash(gh auth:*)",
      "Bash(gh pr merge:*)",
      "Bash(gh pr view:*)",
      "Bash(git stash:*)",
      "Bash(\"C:\\\\Users\\\\bruce\\\\my-app\\\\src\\\\app\\\\api\\\\planly\\\\products\\\\[id]\\\\route.ts\")",
      "Bash(find:*)",
      "Bash(while read file)",
      "Bash(do sed -i 's/LOWER\\(app_role\\)/LOWER\\(app_role::text\\)/g' \"$file\")",
      "Bash(echo:*)",
      "Bash(powershell -Command \"Get-ChildItem -Path ''supabase/migrations'' -Filter ''*.sql'' | ForEach-Object { \\(Get-Content $_FullName\\) -replace ''LOWER\\\\\\(app_role\\\\\\)'', ''LOWER\\(app_role::text\\)'' | Set-Content $_FullName; Write-Host \\(''Fixed: '' + $_Name\\) }\")",
      "Bash(for file in supabase/migrations/20250302000001_create_leave_types.sql supabase/migrations/20250302000002_create_leave_requests.sql supabase/migrations/20250302000004_create_public_holidays.sql supabase/migrations/20250303000001_create_shift_patterns.sql supabase/migrations/20250303000002_create_scheduled_shifts.sql supabase/migrations/20250303000003_create_staff_availability.sql supabase/migrations/20250303000004_create_shift_swaps.sql supabase/migrations/20250303000005_create_rota_views.sql supabase/migrations/20250305000001_create_training_courses.sql)",
      "Bash(for file in supabase/migrations/20250305000002_create_training_records.sql supabase/migrations/20250306000001_create_review_system.sql supabase/migrations/20250306000002_create_performance_reviews.sql supabase/migrations/20250306000003_create_goals.sql supabase/migrations/20250306000004_create_one_on_ones.sql supabase/migrations/20250307000001_create_time_entries.sql supabase/migrations/20250307000002_create_timesheets.sql supabase/migrations/20250308000001_create_pay_rates.sql supabase/migrations/20250308000002_create_payroll.sql supabase/migrations/20250312000001_create_jobs_table.sql)",
      "Bash(ren:*)",
      "Bash(npx supabase db push:*)",
      "Bash(npx supabase:*)",
      "Bash(npx next lint:*)",
      "Bash(npx eslint:*)",
      "Bash(\"C:/Users/bruce/my-app/src/app/api/planly/process-templates/[id]/stages/[stageId]/route.ts\")",
      "Bash(node -e:*)",
      "Bash(npx next build:*)",
      "Bash(powershell -Command:*)",
      "Bash(grep:*)",
      "Bash(docker exec:*)",
      "Bash(docker ps:*)",
      "Bash(npm install:*)",
      "Bash(npm run lint:*)",
      "Bash(node check-triggers.js:*)",
      "Bash(node scripts/check-stock-data.js:*)",
      "Bash(npx tsx:*)",
      "Bash(cmd /c \"type C:\\\\Users\\\\bruce\\\\AppData\\\\Local\\\\Temp\\\\claude\\\\c--Users-bruce-my-app\\\\tasks\\\\b1c03f7.output\")",
      "Bash(npm test:*)",
      "Bash(supabase db diff:*)",
      "Bash(git push:*)",
      "Bash(findstr:*)",
      "Bash(dir:*)",
      "Bash(Remove-Item -Recurse -Force \"c:\\\\Users\\\\bruce\\\\my-app\\\\.next\")",
      "Bash(more:*)",
      "Bash(for:*)",
      "Bash(do curl -s -o /dev/null -w \"Attempt $i: %{http_code}\\\\n\" http://localhost:3000/dashboard/people/schedule)",
      "Bash(do cp \"src/app/dashboard/stockly/reports/$dir/page.tsx\" \"src/app/dashboard/reports/stockly/$dir/page.tsx\")",
      "Bash(Remove-Item \"c:\\\\Users\\\\bruce\\\\my-app\\\\.next\\\\lock\" -ErrorAction SilentlyContinue)",
      "Bash(del:*)",
      "Bash(admin)",
      "Bash(manifest \")",
      "Bash(Select-String -Pattern \"task_templates\" -Context 0,20)",
      "Bash(git checkout:*)",
      "Bash(cat:*)",
      "Bash(git status:*)",
      "Bash(xargs -d '\\\\n' git add:*)",
      "Bash(Select-String -Pattern \"training_records\")",
      "Bash(Select-Object -First 20)",
      "Bash(python:*)",
      "Bash(xargs:*)",
      "Bash(git log:*)",
      "Bash(powershell -File:*)",
      "Bash(node:*)",
      "Bash(npm uninstall:*)",
      "Bash(git merge:*)",
      "Bash(sort:*)",
      "Bash(copy:*)",
      "mcp__claude_ai_Vercel__get_runtime_logs",
      "mcp__claude_ai_Vercel__list_deployments",
      "Bash(npx puppeteer-core:*)",
      "Bash(npm ls:*)",
      "WebFetch(domain:github.com)",
      "WebFetch(domain:pptr.dev)",
      "WebFetch(domain:raw.githubusercontent.com)",
      "Bash(test:*)",
      "mcp__claude_ai_Vercel__list_teams",
      "mcp__claude_ai_Vercel__list_projects",
      "mcp__claude_ai_Vercel__get_project",
      "Bash(npx vercel:*)",
      "mcp__claude_ai_Vercel__get_deployment_build_logs",
      "WebFetch(domain:api.resend.com)",
      "WebFetch(domain:resend-status.com)",
      "Bash(nslookup:*)",
      "mcp__claude_ai_Vercel__search_vercel_documentation",
      "Bash(npx next dev:*)",
      "Bash(python3 -m json.tool:*)",
      "WebFetch(domain:www.npmjs.com)",
      "WebFetch(domain:gist.github.com)",
      "Bash(.md)",
      "Bash(.txt \")",
      "Bash(npx sharp-cli:*)"
    ]
  }
}
